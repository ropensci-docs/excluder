<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="excluder">
<title>excluder • excluder</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="excluder">
<meta property="og:description" content="excluder">
<meta property="og:image" content="https://docs.ropensci.org/excluder/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">excluder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.5.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="active nav-item">
  <a class="nav-link" href="../articles/excluder.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/excluder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>excluder</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/excluder/blob/HEAD/vignettes/excluder.Rmd" class="external-link"><code>vignettes/excluder.Rmd</code></a></small>
      <div class="d-none name"><code>excluder.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/excluder/">excluder</a></span><span class="op">)</span></span></code></pre></div>
<p>The <a href="https://docs.ropensci.org/excluder/">excluder</a> package facilitates marking, checking for, and excluding rows of data frames<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Though the functions take data frames input, they produce &lt;a href="https://tibble.tidyverse.org/" class="external-link"&gt;tibbles&lt;/a&gt;.&lt;/p&gt;'><sup>1</sup></a> for common online participant exclusion criteria. This package applies to online data with a focus on data collected from <a href="https://www.qualtrics.com" class="external-link">Qualtrics</a> surveys, and default column names come from importing data with the <a href="https://docs.ropensci.org/qualtRics/" class="external-link"><code>{qualtRics}</code></a> package. This may be most useful for <a href="https://www.mturk.com/" class="external-link">Mechanical Turk</a> data to screen for duplicate entries from the same location/IP address or entries from locations outside of the United States. However, the package can be used for data from other sources that need to be screened for IP address, location, duplicated locations, participant progress, survey completion time, and/or screen resolution.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The package has three core verbs:</p>
<ol style="list-style-type: decimal">
<li>
<code>mark_*()</code> functions add a new column to the original data frame that labels the rows meeting the exclusion criteria. This is useful to label the potential exclusions for future processing without changing the original data frame.</li>
<li>
<code>check_*()</code> functions search for the exclusion criteria and output a message with the number of rows meeting the criteria and a data frame of the rows meeting the criteria. This is useful for viewing the potential exclusions.</li>
<li>
<code>exclude_*()</code> functions remove rows meeting the exclusion criteria. This is safest to do after checking the rows to ensure the exclusions are correct.</li>
</ol>
<p>The <code>check_*()</code> and <code>exclude_*()</code> functions call the <code>mark_*()</code> function internally and then filter either the excluded or non-excluded rows. So avoid combining different verbs to sidestep unnecessary passes through the data.</p>
<p>The package provides seven types of exclusions based on Qualtrics metadata:</p>
<ol style="list-style-type: decimal">
<li>
<code>duplicates</code> works with rows that have duplicate IP addresses and/or locations (latitude/longitude), using <a href="https://sfirke.github.io/janitor/reference/get_dupes.html" class="external-link"><code>janitor::get_dupes()</code></a>.</li>
<li>
<code>duration</code> works with rows whose survey completion time is too short and/or too long.</li>
<li>
<code>ip</code> works with rows whose IP addresses are not found in the specified country (note: this exclusion type requires an internet connection to download the country’s IP ranges), using package <a href="https://github.com/davidchall/ipaddress" class="external-link"><code>{ipaddress}</code></a>.</li>
<li>
<code>location</code> works with rows whose latitude and longitude are not found in the United States.</li>
<li>
<code>preview</code> works with rows that are survey previews.</li>
<li>
<code>progress</code> works with rows in which the survey was not complete.</li>
<li>
<code>resolution</code> works with rows whose screen resolution is not acceptable.</li>
</ol>
<p>The verbs combine with the exclusion types to generate functions. For instance, <code><a href="../reference/mark_duplicates.html">mark_duplicates()</a></code> will mark duplicate rows and <code><a href="../reference/exclude_preview.html">exclude_preview()</a></code> will exclude preview rows.</p>
<p>There are also helper functions:</p>
<ol style="list-style-type: decimal">
<li>
<a href="https://docs.ropensci.org//excluder/reference/unite_exclusions.html" class="external-link"><code>unite_exclusions()</code></a> unites all of the columns marked by <code>mark</code> functions into a single column (each use of a <code>mark</code> function creates a new column).</li>
<li>
<a href="https://docs.ropensci.org//excluder/reference/deidentify.html" class="external-link"><code>deidentify()</code></a> removes standard Qualtrics columns with identifiable information.</li>
<li>
<a href="https://docs.ropensci.org//excluder/reference/remove_label_rows.html" class="external-link"><code>remove_label_rows()</code></a> removes the first two rows of labels and convert date and numeric columns in the metadata.</li>
</ol>
</div>
<div class="section level2">
<h2 id="preparing-your-data">Preparing your data<a class="anchor" aria-label="anchor" href="#preparing-your-data"></a>
</h2>
<p>If you use the <a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html" class="external-link"><code>fetch_survey()</code></a> from the <a href="https://docs.ropensci.org/qualtRics/" class="external-link">qualtRics</a> package to import your Qualtrics data, it will automatically remove the first two label rows from the data set. However, if you directly download your data from Qualtrics, it will include two rows in your data set that include label information. This has two side effects: (1) there are non-data rows that need to be removed from your data set, and (2) all of your columns will be imported as character data types.</p>
<p>The <a href="https://docs.ropensci.org//excluder/reference/remove_label_rows.html" class="external-link"><code>remove_label_rows()</code></a> function will remove these two label rows. Also, by default, it will coerce the Qualtrics metadata columns from character types to the correct formats (e.g., <em><code>StartDate</code></em> is coerced to a date, <em><code>Progress</code></em> is coerced to numeric). So if you download your data from Qualtrics, you will need to run this function on your data before proceeding.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">qualtrics_raw</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 102</span></span>
<span><span class="co">#&gt; Columns: 16</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Start Date", "{\"ImportId\":\"startDate\",\"t…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "End Date", "{\"ImportId\":\"endDate\",\"timeZ…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Response Type", "{\"ImportId\":\"status\"}", …</span></span>
<span><span class="co">#&gt; $ IPAddress               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "IP Address", "{\"ImportId\":\"ipAddress\"}", …</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Progress", "{\"ImportId\":\"progress\"}", "10…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Duration (in seconds)", "{\"ImportId\":\"dura…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Finished", "{\"ImportId\":\"finished\"}", "TR…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Recorded Date", "{\"ImportId\":\"recordedDate…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Response ID", "{\"ImportId\":\"_recordId\"}",…</span></span>
<span><span class="co">#&gt; $ LocationLatitude        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Location Latitude", "{\"ImportId\":\"location…</span></span>
<span><span class="co">#&gt; $ LocationLongitude       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Location Longitude", "{\"ImportId\":\"locatio…</span></span>
<span><span class="co">#&gt; $ UserLanguage            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "User Language", "{\"ImportId\":\"userLanguage…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Browser Meta Info - Browser", "{\"ImportId\":…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Browser Meta Info - Version", "{\"ImportId\":…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Browser Meta Info - Operating System", "{\"Im…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Browser Meta Info - Resolution", "{\"ImportId…</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># Remove label rows and coerce metadata columns</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_label_rows.html">remove_label_rows</a></span><span class="op">(</span><span class="va">qualtrics_raw</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 16</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:06:52, 2020-12-11 12:06:43, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Survey Preview", "Survey Preview", "IP Addres…</span></span>
<span><span class="co">#&gt; $ IPAddress               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, "73.23.43.0", "16.140.105.0", "107.57.…</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 465, 545, 651, 409, 140, 213, 177, 662, 296, 2…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_xLWiuPaNuURSFXY", "R_Q5lqYw6emJQZx2o", "R_f…</span></span>
<span><span class="co">#&gt; $ LocationLatitude        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 29.73694, 39.74107, 34.03852, 44.96581, 27.980…</span></span>
<span><span class="co">#&gt; $ LocationLongitude       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -94.97599, -121.82490, -118.25739, -93.07187, …</span></span>
<span><span class="co">#&gt; $ UserLanguage            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Chrome", "Chrome", "Chrome", "Chrome", "Chrom…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "88.0.4324.41", "88.0.4324.50", "87.0.4280.88"…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Windows NT 10.0", "Macintosh", "Windows NT 10…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1366x768", "1680x1050", "1366x768", "1536x864…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="marking-observations">Marking observations<a class="anchor" aria-label="anchor" href="#marking-observations"></a>
</h2>
<p>The core verbs in this package mark them for future processing. The <code>mark_*()</code> suite of functions creates a new column for each mark function used that marks which observations violate the exclusion criterion. They print a message about the number of observations meeting each exclusion criteria. Mark functions return a data frame identical to the original with additional columns marking exclusions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mark observations run as preview</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 17</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:06:52, 2020-12-11 12:06:43, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Survey Preview", "Survey Preview", "IP Addres…</span></span>
<span><span class="co">#&gt; $ IPAddress               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, "73.23.43.0", "16.140.105.0", "107.57.…</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 465, 545, 651, 409, 140, 213, 177, 662, 296, 2…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_xLWiuPaNuURSFXY", "R_Q5lqYw6emJQZx2o", "R_f…</span></span>
<span><span class="co">#&gt; $ LocationLatitude        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 29.73694, 39.74107, 34.03852, 44.96581, 27.980…</span></span>
<span><span class="co">#&gt; $ LocationLongitude       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -94.97599, -121.82490, -118.25739, -93.07187, …</span></span>
<span><span class="co">#&gt; $ UserLanguage            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Chrome", "Chrome", "Chrome", "Chrome", "Chrom…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "88.0.4324.41", "88.0.4324.50", "87.0.4280.88"…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Windows NT 10.0", "Macintosh", "Windows NT 10…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1366x768", "1680x1050", "1366x768", "1536x864…</span></span>
<span><span class="co">#&gt; $ exclusion_preview       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "preview", "preview", "", "", "", "", "", "", …</span></span></code></pre></div>
<p>Notice the new <em><code>exclusion_preview</code></em> column at the end of the data frame. It has marked the first two observations as <code>preview</code>.</p>
<p>Piping multiple mark functions will create multiple rows marking observations for exclusion.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mark preview and incomplete observations</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_progress.html">mark_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 100 rows did not complete the study.</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 18</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:06:52, 2020-12-11 12:06:43, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Survey Preview", "Survey Preview", "IP Addres…</span></span>
<span><span class="co">#&gt; $ IPAddress               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, "73.23.43.0", "16.140.105.0", "107.57.…</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 465, 545, 651, 409, 140, 213, 177, 662, 296, 2…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_xLWiuPaNuURSFXY", "R_Q5lqYw6emJQZx2o", "R_f…</span></span>
<span><span class="co">#&gt; $ LocationLatitude        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 29.73694, 39.74107, 34.03852, 44.96581, 27.980…</span></span>
<span><span class="co">#&gt; $ LocationLongitude       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -94.97599, -121.82490, -118.25739, -93.07187, …</span></span>
<span><span class="co">#&gt; $ UserLanguage            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Chrome", "Chrome", "Chrome", "Chrome", "Chrom…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "88.0.4324.41", "88.0.4324.50", "87.0.4280.88"…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Windows NT 10.0", "Macintosh", "Windows NT 10…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1366x768", "1680x1050", "1366x768", "1536x864…</span></span>
<span><span class="co">#&gt; $ exclusion_preview       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "preview", "preview", "", "", "", "", "", "", …</span></span>
<span><span class="co">#&gt; $ exclusion_progress      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", ""…</span></span></code></pre></div>
<p>To unite all of the marked columns into a single column, use the <code><a href="../reference/unite_exclusions.html">unite_exclusions()</a></code> function. This will create a new <code>exclusions</code> columns that will unite all exclusions in each observation into a single column. Here we move the combined <em><code>exclusions</code></em> column to the beginning of the data frame to view it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_duration.html">mark_duration</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fl">500</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/unite_exclusions.html">unite_exclusions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">exclusions</span>, .before <span class="op">=</span> <span class="va">StartDate</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 82 out of 100 rows took less time than 500.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 17</span></span></span>
<span><span class="co">#&gt;    exclusions  StartDate           EndDate             Status IPAddress Progress</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">"</span>preview,d… 2020-12-11 <span style="color: #949494;">12:06:52</span> 2020-12-11 <span style="color: #949494;">12:10:30</span> Surve… <span style="color: #BB0000;">NA</span>             100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">"</span>preview<span style="color: #949494;">"</span>   2020-12-11 <span style="color: #949494;">12:06:43</span> 2020-12-11 <span style="color: #949494;">12:11:27</span> Surve… <span style="color: #BB0000;">NA</span>             100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">""</span>          2020-12-11 <span style="color: #949494;">12:17:22</span> 2020-12-11 <span style="color: #949494;">12:21:41</span> IP Ad… 73.23.43…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:17:41</span> 2020-12-11 <span style="color: #949494;">12:22:07</span> IP Ad… 16.140.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:19:45</span> 2020-12-11 <span style="color: #949494;">12:23:16</span> IP Ad… 107.57.2…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:37:51</span> 2020-12-11 <span style="color: #949494;">12:43:09</span> IP Ad… 15.232.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:41:23</span> 2020-12-11 <span style="color: #949494;">12:44:37</span> IP Ad… 24.195.9…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">""</span>          2020-12-11 <span style="color: #949494;">12:37:04</span> 2020-12-11 <span style="color: #949494;">12:45:50</span> IP Ad… 98.75.20…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:55:35</span> 2020-12-11 <span style="color: #949494;">12:59:24</span> IP Ad… 51.113.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">13:22:34</span> 2020-12-11 <span style="color: #949494;">13:35:19</span> IP Ad… 17.163.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 90 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<p>Multiple exclusions are separated by <code>,</code> by default, but the separating character can be controlled by the <code>separator</code> argument. By default, the multiple exclusion columns are removed from the final data frame, but this can be turned off by setting the <code>remove</code> argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_duration.html">mark_duration</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fl">500</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/unite_exclusions.html">unite_exclusions</a></span><span class="op">(</span>separator <span class="op">=</span> <span class="st">";"</span>, remove <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">exclusions</span>, .before <span class="op">=</span> <span class="va">StartDate</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 82 out of 100 rows took less time than 500.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 19</span></span></span>
<span><span class="co">#&gt;    exclusions  StartDate           EndDate             Status IPAddress Progress</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">"</span>preview;d… 2020-12-11 <span style="color: #949494;">12:06:52</span> 2020-12-11 <span style="color: #949494;">12:10:30</span> Surve… <span style="color: #BB0000;">NA</span>             100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">"</span>preview<span style="color: #949494;">"</span>   2020-12-11 <span style="color: #949494;">12:06:43</span> 2020-12-11 <span style="color: #949494;">12:11:27</span> Surve… <span style="color: #BB0000;">NA</span>             100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">""</span>          2020-12-11 <span style="color: #949494;">12:17:22</span> 2020-12-11 <span style="color: #949494;">12:21:41</span> IP Ad… 73.23.43…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:17:41</span> 2020-12-11 <span style="color: #949494;">12:22:07</span> IP Ad… 16.140.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:19:45</span> 2020-12-11 <span style="color: #949494;">12:23:16</span> IP Ad… 107.57.2…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:37:51</span> 2020-12-11 <span style="color: #949494;">12:43:09</span> IP Ad… 15.232.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:41:23</span> 2020-12-11 <span style="color: #949494;">12:44:37</span> IP Ad… 24.195.9…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">""</span>          2020-12-11 <span style="color: #949494;">12:37:04</span> 2020-12-11 <span style="color: #949494;">12:45:50</span> IP Ad… 98.75.20…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">12:55:35</span> 2020-12-11 <span style="color: #949494;">12:59:24</span> IP Ad… 51.113.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">"</span>duration_… 2020-12-11 <span style="color: #949494;">13:22:34</span> 2020-12-11 <span style="color: #949494;">13:35:19</span> IP Ad… 17.163.1…      100</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 90 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 13 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;, exclusion_preview &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   exclusion_duration &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-observations">Checking observations<a class="anchor" aria-label="anchor" href="#checking-observations"></a>
</h2>
<p>The <code>check_*()</code> suite of functions return a data frame that includes only the observations that meet the criterion. Since these functions first run the appropriate <code>mark_*()</code> function, they also print a message about the number of observations that meet the exclusion criterion.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for rows with incomplete data</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_progress.html">check_progress</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 100 rows did not complete the study.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 16</span></span></span>
<span><span class="co">#&gt;   StartDate           EndDate             Status     IPAddress    Progress</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-12-17 <span style="color: #949494;">15:40:53</span> 2020-12-17 <span style="color: #949494;">15:43:25</span> IP Address 22.51.31.0         99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-12-17 <span style="color: #949494;">15:40:56</span> 2020-12-17 <span style="color: #949494;">15:46:23</span> IP Address 71.146.112.0        1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-12-17 <span style="color: #949494;">15:41:52</span> 2020-12-17 <span style="color: #949494;">15:46:37</span> IP Address 15.223.0.0         13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-12-17 <span style="color: #949494;">15:41:27</span> 2020-12-17 <span style="color: #949494;">15:46:45</span> IP Address 19.127.87.0        48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-12-17 <span style="color: #949494;">15:49:42</span> 2020-12-17 <span style="color: #949494;">15:51:50</span> IP Address 40.146.247.0        5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-12-17 <span style="color: #949494;">15:49:28</span> 2020-12-17 <span style="color: #949494;">15:55:06</span> IP Address 2.246.67.0         44</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for rows with durations less than 100 seconds</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_duration.html">check_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 4 out of 100 rows took less time than 100.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 16</span></span></span>
<span><span class="co">#&gt;   StartDate           EndDate             Status     IPAddress    Progress</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-12-11 <span style="color: #949494;">16:59:08</span> 2020-12-11 <span style="color: #949494;">17:02:05</span> IP Address 84.56.189.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-12-17 <span style="color: #949494;">15:41:52</span> 2020-12-17 <span style="color: #949494;">15:46:37</span> IP Address 15.223.0.0         13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-12-17 <span style="color: #949494;">15:41:27</span> 2020-12-17 <span style="color: #949494;">15:46:45</span> IP Address 19.127.87.0        48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-12-17 <span style="color: #949494;">15:46:46</span> 2020-12-17 <span style="color: #949494;">15:49:02</span> IP Address 21.134.217.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<p>Because checks return only the rows meeting the criteria, they <strong>should not be connected via pipes</strong> unless you want to subset the second check criterion within the rows that meet the first criterion.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for rows with durations less than 100 seconds in rows that did not complete the survey</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_progress.html">check_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_duration.html">check_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 100 rows did not complete the study.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 out of 6 rows took less time than 100.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 16</span></span></span>
<span><span class="co">#&gt;   StartDate           EndDate             Status     IPAddress   Progress</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-12-17 <span style="color: #949494;">15:41:52</span> 2020-12-17 <span style="color: #949494;">15:46:37</span> IP Address 15.223.0.0        13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-12-17 <span style="color: #949494;">15:41:27</span> 2020-12-17 <span style="color: #949494;">15:46:45</span> IP Address 19.127.87.0       48</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<p>To check all data for multiple criteria, use the <code>mark_*()</code> functions followed by a filter.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for multiple criteria</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mark_duration.html">mark_duration</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fl">500</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/unite_exclusions.html">unite_exclusions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">exclusions</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 82 out of 100 rows took less time than 500.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 83 × 17</span></span></span>
<span><span class="co">#&gt;    StartDate           EndDate             Status         IPAddress    Progress</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-12-11 <span style="color: #949494;">12:06:52</span> 2020-12-11 <span style="color: #949494;">12:10:30</span> Survey Preview <span style="color: #BB0000;">NA</span>                100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-12-11 <span style="color: #949494;">12:06:43</span> 2020-12-11 <span style="color: #949494;">12:11:27</span> Survey Preview <span style="color: #BB0000;">NA</span>                100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-12-11 <span style="color: #949494;">12:17:41</span> 2020-12-11 <span style="color: #949494;">12:22:07</span> IP Address     16.140.105.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-12-11 <span style="color: #949494;">12:19:45</span> 2020-12-11 <span style="color: #949494;">12:23:16</span> IP Address     107.57.244.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-12-11 <span style="color: #949494;">12:37:51</span> 2020-12-11 <span style="color: #949494;">12:43:09</span> IP Address     15.232.167.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-12-11 <span style="color: #949494;">12:41:23</span> 2020-12-11 <span style="color: #949494;">12:44:37</span> IP Address     24.195.91.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-12-11 <span style="color: #949494;">12:55:35</span> 2020-12-11 <span style="color: #949494;">12:59:24</span> IP Address     51.113.171.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-12-11 <span style="color: #949494;">13:22:34</span> 2020-12-11 <span style="color: #949494;">13:35:19</span> IP Address     17.163.199.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-12-11 <span style="color: #949494;">16:59:08</span> 2020-12-11 <span style="color: #949494;">17:02:05</span> IP Address     84.56.189.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-12-11 <span style="color: #949494;">17:02:00</span> 2020-12-11 <span style="color: #949494;">17:03:30</span> IP Address     70.203.63.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 73 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;, exclusions &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="excluding-observations">Excluding observations<a class="anchor" aria-label="anchor" href="#excluding-observations"></a>
</h2>
<p>The <code>exclude_*()</code> suite of function will return a data frame that has removed observations that match the exclusion criteria. Exclude functions print their own messages about the number of observations excluded.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude survey responses used to preview the survey</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 out of 100 preview rows were excluded, leaving 98 rows.</span></span>
<span><span class="co">#&gt; Rows: 98</span></span>
<span><span class="co">#&gt; Columns: 16</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:17:22, 2020-12-11 12:17:41, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:41, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "IP Address", "IP Address", "IP Address", "IP …</span></span>
<span><span class="co">#&gt; $ IPAddress               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "73.23.43.0", "16.140.105.0", "107.57.244.0", …</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 651, 409, 140, 213, 177, 662, 296, 277, 54, 43…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:42, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_fbYBeNscosfzN9L", "R_yyG1HGXOMNPfWDn", "R_9…</span></span>
<span><span class="co">#&gt; $ LocationLatitude        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 34.03852, 44.96581, 27.98064, 29.76499, 40.335…</span></span>
<span><span class="co">#&gt; $ LocationLongitude       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -118.25739, -93.07187, -82.78531, -95.36156, -…</span></span>
<span><span class="co">#&gt; $ UserLanguage            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Chrome", "Chrome", "Chrome", "Chrome", "Chrom…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "87.0.4280.88", "87.0.4280.88", "87.0.4280.88"…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Windows NT 10.0", "Windows NT 10.0", "Windows…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1366x768", "1536x864", "1536x864", "1366x768"…</span></span></code></pre></div>
<p>Piping will apply subsequent excludes to the data frames with the previous excludes already applied. Therefore, it often makes sense to remove the preview surveys and incomplete surveys before checking other exclusion types to speed processing.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude preview then incomplete progress rows then duplicate locations and IP addresses</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_duplicates.html">exclude_duplicates</a></span><span class="op">(</span>print <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 out of 100 preview rows were excluded, leaving 98 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 98 rows with incomplete progress were excluded, leaving 92 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 9 out of 92 duplicate rows were excluded, leaving 83 rows.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="messages-and-console-output">Messages and console output<a class="anchor" aria-label="anchor" href="#messages-and-console-output"></a>
</h2>
<p>Messages about the number of rows meeting the exclusion criteria are printed to the console by default. These messages are generated by the <code>mark_*()</code> functions and carry over to <code>check_*()</code> functions. They can be turn off by setting <code>quiet</code> to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Turn off marking/checking messages with quiet = TRUE</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_progress.html">check_progress</a></span><span class="op">(</span>quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 16</span></span></span>
<span><span class="co">#&gt;   StartDate           EndDate             Status     IPAddress    Progress</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-12-17 <span style="color: #949494;">15:40:53</span> 2020-12-17 <span style="color: #949494;">15:43:25</span> IP Address 22.51.31.0         99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-12-17 <span style="color: #949494;">15:40:56</span> 2020-12-17 <span style="color: #949494;">15:46:23</span> IP Address 71.146.112.0        1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-12-17 <span style="color: #949494;">15:41:52</span> 2020-12-17 <span style="color: #949494;">15:46:37</span> IP Address 15.223.0.0         13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-12-17 <span style="color: #949494;">15:41:27</span> 2020-12-17 <span style="color: #949494;">15:46:45</span> IP Address 19.127.87.0        48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-12-17 <span style="color: #949494;">15:49:42</span> 2020-12-17 <span style="color: #949494;">15:51:50</span> IP Address 40.146.247.0        5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-12-17 <span style="color: #949494;">15:49:28</span> 2020-12-17 <span style="color: #949494;">15:55:06</span> IP Address 2.246.67.0         44</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<p>Note that <code>exclude_*()</code> functions have the <code>mark_*()</code> messages turned off by default and produce their own messages about exclusions. To silence these messages, set <code>silent</code> to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Turn off exclusion messages with silent = TRUE</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span>silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span>silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_duplicates.html">exclude_duplicates</a></span><span class="op">(</span>silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 83 × 16</span></span></span>
<span><span class="co">#&gt;    StartDate           EndDate             Status     IPAddress    Progress</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-12-11 <span style="color: #949494;">12:17:22</span> 2020-12-11 <span style="color: #949494;">12:21:41</span> IP Address 73.23.43.0        100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-12-11 <span style="color: #949494;">12:17:41</span> 2020-12-11 <span style="color: #949494;">12:22:07</span> IP Address 16.140.105.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-12-11 <span style="color: #949494;">12:19:45</span> 2020-12-11 <span style="color: #949494;">12:23:16</span> IP Address 107.57.244.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-12-11 <span style="color: #949494;">12:37:51</span> 2020-12-11 <span style="color: #949494;">12:43:09</span> IP Address 15.232.167.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-12-11 <span style="color: #949494;">12:37:04</span> 2020-12-11 <span style="color: #949494;">12:45:50</span> IP Address 98.75.201.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-12-11 <span style="color: #949494;">12:55:35</span> 2020-12-11 <span style="color: #949494;">12:59:24</span> IP Address 51.113.171.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-12-11 <span style="color: #949494;">13:22:34</span> 2020-12-11 <span style="color: #949494;">13:35:19</span> IP Address 17.163.199.0      100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-12-11 <span style="color: #949494;">16:59:08</span> 2020-12-11 <span style="color: #949494;">17:02:05</span> IP Address 84.56.189.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-12-11 <span style="color: #949494;">17:02:00</span> 2020-12-11 <span style="color: #949494;">17:03:30</span> IP Address 70.203.63.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-12-11 <span style="color: #949494;">17:01:32</span> 2020-12-11 <span style="color: #949494;">17:09:41</span> IP Address 33.185.89.0       100</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 73 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: `Duration (in seconds)` &lt;dbl&gt;, Finished &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, LocationLatitude &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   LocationLongitude &lt;dbl&gt;, UserLanguage &lt;chr&gt;, Browser &lt;chr&gt;, Version &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Operating System` &lt;chr&gt;, Resolution &lt;chr&gt;</span></span></span></code></pre></div>
<p>Though <code>exclude_*()</code> functions do not print the data frame to the console, <code>mark_*()</code> and <code>check_*()</code> do. To avoid printing to the console, set <code>print</code> = <code>FALSE</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Turn off marking/checking printing data frame with print = FALSE</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_progress.html">check_progress</a></span><span class="op">(</span>print <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 100 rows did not complete the study.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="deidentifying-data">Deidentifying data<a class="anchor" aria-label="anchor" href="#deidentifying-data"></a>
</h2>
<p>By default, Qualtrics records participant IP address and location.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;To avoid recording this potentially identifiable information, go to &lt;em&gt;Survey options&lt;/em&gt; &amp;gt; &lt;em&gt;Security&lt;/em&gt; &amp;gt; &lt;em&gt;Anonymize responses&lt;/em&gt;.&lt;/p&gt;"><sup>2</sup></a> You can also record properties of the participants’ computers such as operating system, web browser type and version, and screen resolution.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;You can turn these on by adding a new question (usually to the beginning of your survey) and choosing &lt;em&gt;Meta info&lt;/em&gt; as the question type.&lt;/p&gt;"><sup>3</sup></a> While these pieces of information can be useful for excluding observations, they carry potentially identifiable information. Therefore, you may want to remove them from data frame before saving or processing it. The <code><a href="../reference/deidentify.html">deidentify()</a></code> function removes potentially identifiable data columns collected by Qualtrics. By default, the function uses a strict rule to remove IP address, location, and computer information (browser type and version, operating system, and screen resolution).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude preview then incomplete progress rows</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_duplicates.html">exclude_duplicates</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deidentify.html">deidentify</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 out of 100 preview rows were excluded, leaving 98 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 98 rows with incomplete progress were excluded, leaving 92 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 9 out of 92 duplicate rows were excluded, leaving 83 rows.</span></span>
<span><span class="co">#&gt; Rows: 83</span></span>
<span><span class="co">#&gt; Columns: 8</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:17:22, 2020-12-11 12:17:41, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:41, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "IP Address", "IP Address", "IP Address", "IP …</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 651, 409, 140, 213, 662, 296, 277, 54, 432, 10…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:42, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_fbYBeNscosfzN9L", "R_yyG1HGXOMNPfWDn", "R_9…</span></span></code></pre></div>
<p>If the computer information is not considered sensitive, it can be kept by setting the <code>strict</code> argument to <code>FALSE</code>, thereby only removing IP address and location.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude preview then incomplete progress rows</span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/exclude_duplicates.html">exclude_duplicates</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deidentify.html">deidentify</a></span><span class="op">(</span>strict <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 2 out of 100 preview rows were excluded, leaving 98 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 6 out of 98 rows with incomplete progress were excluded, leaving 92 rows.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 9 out of 92 duplicate rows were excluded, leaving 83 rows.</span></span>
<span><span class="co">#&gt; Rows: 83</span></span>
<span><span class="co">#&gt; Columns: 12</span></span>
<span><span class="co">#&gt; $ StartDate               <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:17:22, 2020-12-11 12:17:41, 202…</span></span>
<span><span class="co">#&gt; $ EndDate                 <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:41, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ Status                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "IP Address", "IP Address", "IP Address", "IP …</span></span>
<span><span class="co">#&gt; $ Progress                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 100, 100, 100, 100, 100, 100, 100, 100, 100, 1…</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 651, 409, 140, 213, 662, 296, 277, 54, 432, 10…</span></span>
<span><span class="co">#&gt; $ Finished                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></span>
<span><span class="co">#&gt; $ RecordedDate            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2020-12-11 12:21:42, 2020-12-11 12:22:07, 202…</span></span>
<span><span class="co">#&gt; $ ResponseId              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "R_fbYBeNscosfzN9L", "R_yyG1HGXOMNPfWDn", "R_9…</span></span>
<span><span class="co">#&gt; $ Browser                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Chrome", "Chrome", "Chrome", "Chrome", "Edge"…</span></span>
<span><span class="co">#&gt; $ Version                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "87.0.4280.88", "87.0.4280.88", "87.0.4280.88"…</span></span>
<span><span class="co">#&gt; $ `Operating System`      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Windows NT 10.0", "Windows NT 10.0", "Windows…</span></span>
<span><span class="co">#&gt; $ Resolution              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1366x768", "1536x864", "1536x864", "1366x768"…</span></span></code></pre></div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
