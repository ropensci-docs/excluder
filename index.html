<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Data that are collected through online sources such as
    Mechanical Turk may require excluding rows because of IP address
    duplication, geolocation, or completion duration. This package
    facilitates exclusion of these data for Qualtrics datasets.">
<title>Checks for Exclusion Criteria in Online Data â€¢ excluder</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Checks for Exclusion Criteria in Online Data">
<meta property="og:description" content="Data that are collected through online sources such as
    Mechanical Turk may require excluding rows because of IP address
    duplication, geolocation, or completion duration. This package
    facilitates exclusion of these data for Qualtrics datasets.">
<meta property="og:image" content="https://docs.ropensci.org/excluder/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">excluder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.5.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="articles/excluder.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/excluder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="excluder-">excluder 
<a class="anchor" aria-label="anchor" href="#excluder-"></a>
</h1>
</div>
<!-- badges: start -->
<p><a href="https://github.com/ropensci/excluder/actions" class="external-link"><img src="https://github.com/ropensci/excluder/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://app.codecov.io/gh/jeffreyrstevens/excluder?branch=main" class="external-link"><img src="https://codecov.io/gh/jeffreyrstevens/excluder/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></p>
<p><a href="https://github.com/ropensci/software-review/issues/455" class="external-link"><img src="https://badges.ropensci.org/455_status.svg" alt="Status at rOpenSci Software Peer Review"></a> <a href="https://doi.org/10.21105/joss.03893" class="external-link"><img src="https://joss.theoj.org/papers/10.21105/joss.03893/status.svg" alt="DOI"></a> <a href="https://doi.org/10.5281/zenodo.5648202" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5648202.svg" alt="DOI"></a> <!-- badges: end --></p>
<p>The goal of <a href="https://docs.ropensci.org/excluder/"><code>{excluder}</code></a> is to facilitate checking for, marking, and excluding rows of data frames for common exclusion criteria. This package applies to data collected from <a href="https://www.qualtrics.com/" class="external-link">Qualtrics</a> surveys, and default column names come from importing data with the <a href="https://docs.ropensci.org/qualtRics/" class="external-link"><code>{qualtRics}</code></a> package.</p>
<p>This may be most useful for <a href="https://www.mturk.com/" class="external-link">Mechanical Turk</a> data to screen for duplicate entries from the same location/IP address or entries from locations outside of the United States. But it can be used more generally to exclude based on response durations, preview status, progress, or screen resolution.</p>
<p>More details are available on the package <a href="https://docs.ropensci.org/excluder/">website</a> and the <a href="https://docs.ropensci.org/excluder/articles/excluder.html">getting started vignette</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the stable released version of <a href="https://docs.ropensci.org/excluder/">excluder</a> from <a href="https://cran.r-project.org/package=excluder" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"excluder"</span><span class="op">)</span></span></code></pre></div>
<p>You can install developmental versions from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/excluder"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="verbs">Verbs<a class="anchor" aria-label="anchor" href="#verbs"></a>
</h2>
<p>This package provides three primary verbs:</p>
<ul>
<li>
<code>mark</code> functions add a new column to the original data frame that labels the rows meeting the exclusion criteria. This is useful to label the potential exclusions for future processing without changing the original data frame.</li>
<li>
<code>check</code> functions search for the exclusion criteria and output a message with the number of rows meeting the criteria and a data frame of the rows meeting the criteria. This is useful for viewing the potential exclusions.</li>
<li>
<code>exclude</code> functions remove rows meeting the exclusion criteria. This is safest to do after checking the rows to ensure the exclusions are correct.</li>
</ul>
</div>
<div class="section level2">
<h2 id="exclusion-types">Exclusion types<a class="anchor" aria-label="anchor" href="#exclusion-types"></a>
</h2>
<p>This package provides seven types of exclusions based on Qualtrics metadata. If you have ideas for other metadata exclusions, please submit them as <a href="https://github.com/ropensci/excluder/issues" class="external-link">issues</a>. Note, the intent of this package is not to develop functions for excluding rows based on survey-specific data but on general, frequently used metadata.</p>
<ul>
<li>
<code>duplicates</code> works with rows that have duplicate IP addresses and/or locations (latitude/longitude).</li>
<li>
<code>duration</code> works with rows whose survey completion time is too short and/or too long.</li>
<li>
<code>ip</code> works with rows whose IP addresses are not found in the specified country (note: this exclusion type requires an internet connection to download the countryâ€™s IP ranges).</li>
<li>
<code>location</code> works with rows whose latitude and longitude are not found in the United States.</li>
<li>
<code>preview</code> works with rows that are survey previews.</li>
<li>
<code>progress</code> works with rows in which the survey was not complete.</li>
<li>
<code>resolution</code> works with rows whose screen resolution is not acceptable.</li>
</ul>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The verbs and exclusion types combine with <code>_</code> to create the functions, such as <a href="https://docs.ropensci.org/excluder/reference/check_duplicates.html"><code>check_duplicates()</code></a>, <a href="https://docs.ropensci.org/excluder/reference/exclude_ip.html"><code>exclude_ip()</code></a>, and <a href="https://docs.ropensci.org/excluder/reference/mark_duration.html"><code>mark_duration()</code></a>. Multiple functions can be linked together using the <a href="https://magrittr.tidyverse.org/" class="external-link"><code>{magrittr}</code></a> pipe <code>%&gt;%</code>. For datasets downloaded directly from Qualtrics, use <a href="https://docs.ropensci.org/excluder/reference/remove_label_rows.html"><code>remove_label_rows()</code></a> to remove the first two rows of labels and convert date and numeric columns in the metadata, and use <a href="https://docs.ropensci.org/excluder/reference/deidentify.html"><code>deidentify()</code></a> to remove standard Qualtrics columns with identifiable information (e.g., IP addresses, geolocation).</p>
<div class="section level3">
<h3 id="marking">Marking<a class="anchor" aria-label="anchor" href="#marking"></a>
</h3>
<p>The <code>mark_*()</code> functions output the original data set with a new column specifying rows that meet the exclusion criteria. These can be piped together with <code>%&gt;%</code> for multiple exclusion types.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/excluder/">excluder</a></span><span class="op">)</span></span>
<span><span class="co"># Mark preview and short duration rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/mark_duration.html">mark_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; â„¹ 23 out of 100 rows took less time than 200.</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 18</span></span>
<span><span class="co">#&gt; $ StartDate               &lt;dttm&gt; 2020-12-11 12:06:52, 2020-12-11 12:06:43, 202â€¦</span></span>
<span><span class="co">#&gt; $ EndDate                 &lt;dttm&gt; 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202â€¦</span></span>
<span><span class="co">#&gt; $ Status                  &lt;chr&gt; "Survey Preview", "Survey Preview", "IP Addresâ€¦</span></span>
<span><span class="co">#&gt; $ IPAddress               &lt;chr&gt; NA, NA, "73.23.43.0", "16.140.105.0", "107.57.â€¦</span></span>
<span><span class="co">#&gt; $ Progress                &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 1â€¦</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` &lt;dbl&gt; 465, 545, 651, 409, 140, 213, 177, 662, 296, 2â€¦</span></span>
<span><span class="co">#&gt; $ Finished                &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUEâ€¦</span></span>
<span><span class="co">#&gt; $ RecordedDate            &lt;dttm&gt; 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202â€¦</span></span>
<span><span class="co">#&gt; $ ResponseId              &lt;chr&gt; "R_xLWiuPaNuURSFXY", "R_Q5lqYw6emJQZx2o", "R_fâ€¦</span></span>
<span><span class="co">#&gt; $ LocationLatitude        &lt;dbl&gt; 29.73694, 39.74107, 34.03852, 44.96581, 27.980â€¦</span></span>
<span><span class="co">#&gt; $ LocationLongitude       &lt;dbl&gt; -94.97599, -121.82490, -118.25739, -93.07187, â€¦</span></span>
<span><span class="co">#&gt; $ UserLanguage            &lt;chr&gt; "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"â€¦</span></span>
<span><span class="co">#&gt; $ Browser                 &lt;chr&gt; "Chrome", "Chrome", "Chrome", "Chrome", "Chromâ€¦</span></span>
<span><span class="co">#&gt; $ Version                 &lt;chr&gt; "88.0.4324.41", "88.0.4324.50", "87.0.4280.88"â€¦</span></span>
<span><span class="co">#&gt; $ `Operating System`      &lt;chr&gt; "Windows NT 10.0", "Macintosh", "Windows NT 10â€¦</span></span>
<span><span class="co">#&gt; $ Resolution              &lt;chr&gt; "1366x768", "1680x1050", "1366x768", "1536x864â€¦</span></span>
<span><span class="co">#&gt; $ exclusion_preview       &lt;chr&gt; "preview", "preview", "", "", "", "", "", "", â€¦</span></span>
<span><span class="co">#&gt; $ exclusion_duration      &lt;chr&gt; "", "", "", "", "duration_quick", "", "duratioâ€¦</span></span></code></pre></div>
<p>Use the <a href="https://docs.ropensci.org/excluder/reference/unite_exclusions.html"><code>unite_exclusions()</code></a> function to unite all of the marked columns into a single column.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Collapse labels for preview and short duration rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/mark_preview.html">mark_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/mark_duration.html">mark_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">200</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/unite_exclusions.html">unite_exclusions</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt; â„¹ 23 out of 100 rows took less time than 200.</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 17</span></span>
<span><span class="co">#&gt; $ StartDate               &lt;dttm&gt; 2020-12-11 12:06:52, 2020-12-11 12:06:43, 202â€¦</span></span>
<span><span class="co">#&gt; $ EndDate                 &lt;dttm&gt; 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202â€¦</span></span>
<span><span class="co">#&gt; $ Status                  &lt;chr&gt; "Survey Preview", "Survey Preview", "IP Addresâ€¦</span></span>
<span><span class="co">#&gt; $ IPAddress               &lt;chr&gt; NA, NA, "73.23.43.0", "16.140.105.0", "107.57.â€¦</span></span>
<span><span class="co">#&gt; $ Progress                &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 1â€¦</span></span>
<span><span class="co">#&gt; $ `Duration (in seconds)` &lt;dbl&gt; 465, 545, 651, 409, 140, 213, 177, 662, 296, 2â€¦</span></span>
<span><span class="co">#&gt; $ Finished                &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUEâ€¦</span></span>
<span><span class="co">#&gt; $ RecordedDate            &lt;dttm&gt; 2020-12-11 12:10:30, 2020-12-11 12:11:27, 202â€¦</span></span>
<span><span class="co">#&gt; $ ResponseId              &lt;chr&gt; "R_xLWiuPaNuURSFXY", "R_Q5lqYw6emJQZx2o", "R_fâ€¦</span></span>
<span><span class="co">#&gt; $ LocationLatitude        &lt;dbl&gt; 29.73694, 39.74107, 34.03852, 44.96581, 27.980â€¦</span></span>
<span><span class="co">#&gt; $ LocationLongitude       &lt;dbl&gt; -94.97599, -121.82490, -118.25739, -93.07187, â€¦</span></span>
<span><span class="co">#&gt; $ UserLanguage            &lt;chr&gt; "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN"â€¦</span></span>
<span><span class="co">#&gt; $ Browser                 &lt;chr&gt; "Chrome", "Chrome", "Chrome", "Chrome", "Chromâ€¦</span></span>
<span><span class="co">#&gt; $ Version                 &lt;chr&gt; "88.0.4324.41", "88.0.4324.50", "87.0.4280.88"â€¦</span></span>
<span><span class="co">#&gt; $ `Operating System`      &lt;chr&gt; "Windows NT 10.0", "Macintosh", "Windows NT 10â€¦</span></span>
<span><span class="co">#&gt; $ Resolution              &lt;chr&gt; "1366x768", "1680x1050", "1366x768", "1536x864â€¦</span></span>
<span><span class="co">#&gt; $ exclusions              &lt;chr&gt; "preview", "preview", "", "", "duration_quick"â€¦</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="checking">Checking<a class="anchor" aria-label="anchor" href="#checking"></a>
</h3>
<p>The <code>check_*()</code> functions output messages about the number of rows that meet the exclusion criteria. Because checks return only the rows meeting the criteria, they <strong>should not be connected via pipes</strong> unless you want to subset the second check criterion within the rows that meet the first criterion. Thus, in general, <code>check_*()</code> functions should be used individually. If you want to view the potential exclusions for multiple criteria, use the <code>mark_*()</code> functions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for preview rows</span></span>
<span><span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/check_preview.html">check_preview</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 2 rows were collected as previews. It is highly recommended to exclude these rows before further processing.</span></span>
<span><span class="co">#&gt;             StartDate             EndDate         Status IPAddress Progress</span></span>
<span><span class="co">#&gt; 1 2020-12-11 12:06:52 2020-12-11 12:10:30 Survey Preview      &lt;NA&gt;      100</span></span>
<span><span class="co">#&gt; 2 2020-12-11 12:06:43 2020-12-11 12:11:27 Survey Preview      &lt;NA&gt;      100</span></span>
<span><span class="co">#&gt;   Duration (in seconds) Finished        RecordedDate        ResponseId</span></span>
<span><span class="co">#&gt; 1                   465     TRUE 2020-12-11 12:10:30 R_xLWiuPaNuURSFXY</span></span>
<span><span class="co">#&gt; 2                   545     TRUE 2020-12-11 12:11:27 R_Q5lqYw6emJQZx2o</span></span>
<span><span class="co">#&gt;   LocationLatitude LocationLongitude UserLanguage Browser      Version</span></span>
<span><span class="co">#&gt; 1         29.73694         -94.97599           EN  Chrome 88.0.4324.41</span></span>
<span><span class="co">#&gt; 2         39.74107        -121.82490           EN  Chrome 88.0.4324.50</span></span>
<span><span class="co">#&gt;   Operating System Resolution</span></span>
<span><span class="co">#&gt; 1  Windows NT 10.0   1366x768</span></span>
<span><span class="co">#&gt; 2        Macintosh  1680x1050</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="excluding">Excluding<a class="anchor" aria-label="anchor" href="#excluding"></a>
</h3>
<p>The <code>exclude_*()</code> functions remove the rows that meet exclusion criteria. These, too, can be piped together. Since the output of each function is a subset of the original data with the excluded rows removed, the order of the functions will influence the reported number of rows meeting the exclusion criteria.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude preview then incomplete progress rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_duration.html">exclude_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 4 out of 100 rows of short and/or long duration were excluded, leaving 96 rows.</span></span>
<span><span class="co">#&gt; â„¹ 4 out of 96 rows with incomplete progress were excluded, leaving 92 rows.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 92 16</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude incomplete progress then preview rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_duration.html">exclude_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 6 out of 100 rows with incomplete progress were excluded, leaving 94 rows.</span></span>
<span><span class="co">#&gt; â„¹ 2 out of 94 rows of short and/or long duration were excluded, leaving 92 rows.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 92 16</span></span></code></pre></div>
<p>Though the order of functions should not influence the final data set, it may speed up processing large files by removing preview and incomplete progress data first and waiting to check IP addresses and locations after other exclusions have been performed.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">qualtrics_text</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_preview.html">exclude_preview</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_progress.html">exclude_progress</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_duplicates.html">exclude_duplicates</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_duration.html">exclude_duration</a></span><span class="op">(</span>min_duration <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_resolution.html">exclude_resolution</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_ip.html">exclude_ip</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_location.html">exclude_location</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; â„¹ 2 out of 100 preview rows were excluded, leaving 98 rows.</span></span>
<span><span class="co">#&gt; â„¹ 6 out of 98 rows with incomplete progress were excluded, leaving 92 rows.</span></span>
<span><span class="co">#&gt; â„¹ 9 out of 92 duplicate rows were excluded, leaving 83 rows.</span></span>
<span><span class="co">#&gt; â„¹ 2 out of 83 rows of short and/or long duration were excluded, leaving 81 rows.</span></span>
<span><span class="co">#&gt; â„¹ 3 out of 81 rows with unacceptable screen resolution were excluded, leaving 78 rows.</span></span>
<span><span class="co">#&gt; â„¹ 2 out of 78 rows with IP addresses outside of US were excluded, leaving 76 rows.</span></span>
<span><span class="co">#&gt; â„¹ 4 out of 76 rows outside of the US were excluded, leaving 72 rows.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="citing-this-package">Citing this package<a class="anchor" aria-label="anchor" href="#citing-this-package"></a>
</h2>
<p>To cite <a href="https://docs.ropensci.org/excluder/">excluder</a>, use:</p>
<blockquote><p>Stevens, J. R. (2021). excluder: An R package that checks for exclusion criteria in online data. <em>Journal of Open Source Software</em>, 6(67), 3893. <a href="https://doi.org/10.21105/joss.03893" class="external-link uri">https://doi.org/10.21105/joss.03893</a></p></blockquote>
</div>
<div class="section level2">
<h2 id="contributing-to-this-package">Contributing to this package<a class="anchor" aria-label="anchor" href="#contributing-to-this-package"></a>
</h2>
<p><a href="https://docs.ropensci.org/excluder/CONTRIBUTING.html">Contributions</a> to <a href="https://docs.ropensci.org/excluder/">excluder</a> are most welcome! Feel free to check out <a href="https://github.com/ropensci/excluder/issues" class="external-link">open issues</a> for ideas. And <a href="https://github.com/ropensci/excluder/pulls" class="external-link">pull requests</a> are encouraged, but you may want to <a href="https://github.com/ropensci/excluder/issues/new/choose" class="external-link">raise an issue</a> or <a href="mailto:jeffrey.r.stevens@protonmail.com">contact the maintainer</a> first.</p>
<p>Please note that the excluder project is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>I thank <a href="https://orcid.org/0000-0002-7364-4398" class="external-link">Francine Goh</a> and Billy Lim for comments on an early version of the package, as well as the insightful feedback from <a href="https://ropensci.org/" class="external-link">rOpenSci</a> editor <a href="https://orcid.org/0000-0002-1986-7988" class="external-link">Mauro Lepore</a> and reviewers <a href="https://orcid.org/0000-0001-9851-5077" class="external-link">Joseph Oâ€™Brien</a> and <a href="https://orcid.org/0000-0002-3671-836X" class="external-link">Julia Silge</a>. This work was funded by US National Science Foundation grant NSF-1658837.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=excluder" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/excluder/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/excluder/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing excluder</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jeffrey R. Stevens <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-2375-1360" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/excluder" class="external-link"><img src="https://ropensci.r-universe.dev/badges/excluder" alt="excluder status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/455" class="external-link"><img src="https://badges.ropensci.org/455_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
